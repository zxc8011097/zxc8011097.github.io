<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="è¶³çƒé¢„æµ‹,è¶³çƒåˆ†æ,è¶³çƒAI,èµ›äº‹é¢„æµ‹,ä½“è‚²æ•°æ®,æ¯”åˆ†é¢„æµ‹,è¶³çƒå¤§æ•°æ®">
<meta name="description" content="ä¸“ä¸šè¶³çƒAIåˆ†æç³»ç»Ÿï¼Œæä¾›èµ›äº‹é¢„æµ‹ã€æ¯”åˆ†åˆ†æã€çƒé˜Ÿæ•°æ®ã€å®æ—¶æ¨¡æ‹Ÿï¼Œä»…ä¾›è¶³çƒçˆ±å¥½è€…å¨±ä¹ä½¿ç”¨ã€‚">
<meta name="author" content="football-predict.top">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<title>è¶³çƒAIå¤§æ•°æ®é¢„æµ‹</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"PingFang SC","Microsoft YaHei",sans-serif}
html,body{background:#070b1d;color:#ECECEC;overflow:visible!important;height:auto!important;position:relative!important;touch-action:auto!important;-webkit-overflow-scrolling:touch!important;transition:background 0.3s,color 0.3s}
.container{max-width:480px;margin:0 auto;padding:12px}
.header{text-align:center;padding:16px 0 10px}
.header h1{font-size:22px;color:#FFD700;font-weight:600}
.header p{font-size:12px;color:#aab}
#themeToggle{margin-top:8px;padding:8px 16px;border-radius:20px;border:none;background:#165DFF;color:#fff;font-size:13px;cursor:pointer}
.season-tab{display:flex;gap:8px;margin:10px 0;overflow-x:auto;padding:4px 0}
.season{background:#10182a;color:#ccd;padding:8px 12px;border-radius:10px;font-size:13px;white-space:nowrap;transition:0.2s}
.season.active{background:#165DFF;color:#fff}
.league-scroll{display:flex;gap:8px;overflow-x:auto;padding:6px 0;margin-bottom:12px}
.league-item{background:#131b2e;color:#ccd;padding:10px 14px;border-radius:12px;font-size:14px;white-space:nowrap;transition:0.2s}
.league-item.active{background:#165DFF;color:#fff}
.custom-input{display:flex;gap:8px;margin:10px 0}
.custom-input input{flex:1;background:#151d30;border:none;border-radius:10px;padding:12px 14px;color:#fff;font-size:15px}
.use-custom{background:#2DCE89;color:white;border:none;border-radius:10px;padding:12px 14px;font-size:14px;margin-top:4px;width:100%}
.match-select{margin-bottom:12px}
.match-select select{width:100%;background:#151d30;border:none;border-radius:12px;padding:14px;color:#fff;font-size:15px;margin-bottom:8px}
.match-select select:disabled{opacity:.6}
.data-card{background:#0F1628;border-radius:16px;padding:16px;margin-bottom:12px}
.data-card .title{font-size:14px;color:#aab;margin-bottom:10px}
.ai-score{text-align:center;font-size:40px;color:#FFD700;font-weight:bold;margin:10px 0}
.score-group{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
.score-item{background:#131b2e;border-radius:10px;padding:10px;text-align:center}
.score-item .num{font-size:16px;color:#FFD700}
.score-item .tag{font-size:11px;color:#aab}
.prob-group{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.prob-item{background:#131b2e;border-radius:10px;padding:14px;text-align:center}
.prob-item .num{font-size:18px;color:#fff}
.prob-item .text{font-size:11px;color:#aab}
.btn-group{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:16px 0}
.btn{padding:16px;border-radius:14px;border:none;font-size:15px}
.btn-blue{background:#165DFF;color:#fff}
.btn-green{background:#00B42A;color:#fff}
.sim-box{background:#0C1322;border-radius:16px;padding:18px;margin-top:12px;text-align:center}
.sim-time{color:#4096FF;font-size:14px;margin-bottom:8px}
.sim-score{font-size:34px;color:#fff;margin:8px 0}
.sim-event{color:#c0c8d;font-size:13px;min-height:18px}
.sim-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:12px;font-size:12px;color:#ccc}
.sim-stats .stat-item{background:#131b2e;padding:6px;border-radius:6px}
.power-bar{height:6px;background:#151d30;border-radius:3px;overflow:hidden;margin-top:6px}
.power-bar .bar{height:100%;background:#165DFF;transition:width 0.8s}
.match-info{background:#131b2e;border-radius:12px;padding:10px 14px;margin-bottom:10px;font-size:13px;color:#c0c8d}
.recent-box{background:#131b2e;border-radius:10px;padding:10px;margin-top:8px;font-size:12px;color:#aab}
.record{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;font-size:12px;}
.record span{padding:3px 6px;border-radius:4px;background:#151d30;color:#fff;}
.record .win{background:#00B42A;}
.record .draw{background:#FFA500;}
.record .lose{background:#FF4D4F;}
.vs-record{font-size:12px;color:#ccc;background:#131b2e;padding:10px;border-radius:10px;margin-top:8px;line-height:1.5}
.hot-box{display:flex;justify-content:space-between;font-size:12px;color:#ccc;margin-top:8px}
.accuracy-box{background:#131b2e;border-radius:12px;padding:12px 14px;margin-top:12px;text-align:center;font-size:13px;color:#ccc;border-left:3px solid #165DFF;}
.ai-confidence{background:#131b2e;border-radius:12px;padding:10px 14px;margin-top:8px;text-align:center;font-size:14px;font-weight:bold;color:#FFD700;}
.league-note{background:#151d30;border-radius:10px;padding:8px 12px;margin-top:8px;font-size:12px;color:#ccc;text-align:center;}
.home-away-stats{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px;font-size:12px;color:#ccc;}
.home-away-stats .stat-item{background:#131b2e;padding:10px;border-radius:10px;text-align:center;}
.toast{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#165DFF;color:#fff;padding:12px 20px;border-radius:10px;font-size:14px;display:none;z-index:999}
.loading-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:none;justify-content:center;align-items:center;z-index:1000}
.loading-modal.active{display:flex}
.loading-spin{width:40px;height:40px;border:3px solid #151d30;border-top:3px solid #165DFF;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

/* æµ…è‰²æ¨¡å¼é€‚é… */
body.light{background:#f5f7fa;color:#1a1a1a}
body.light .container{background:#fff;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.05)}
body.light .header h1{color:#165DFF}
body.light .season{background:#e8f0fe;color:#165DFF}
body.light .season.active{background:#165DFF;color:#fff}
body.light .league-item{background:#e8f0fe;color:#165DFF}
body.light .league-item.active{background:#165DFF;color:#fff}
body.light .custom-input input{background:#f0f2f5;color:#1a1a1a}
body.light .match-select select{background:#f0f2f5;color:#1a1a1a}
body.light .data-card{background:#fff;border:1px solid #e8e8e8}
body.light .data-card .title{color:#666}
body.light .score-item,body.light .prob-item{background:#f5f7fa;color:#1a1a1a}
body.light .sim-box{background:#fff;border:1px solid #e8e8e8}
body.light .match-info,body.light .recent-box,body.light .vs-record{background:#f5f7fa;color:#1a1a1a}
body.light .accuracy-box,body.light .ai-confidence,body.light .league-note,body.light .home-away-stats .stat-item{background:#f5f7fa;color:#1a1a1a}
body.light .sim-stats .stat-item{background:#f5f7fa;color:#1a1a1a}
body.light .toast{background:#165DFF;color:#fff}
</style>
</head>
<body>
<div class="toast" id="toast"></div>
<div class="loading-modal" id="loadingModal"><div class="loading-spin"></div></div>
<div class="container">

<div class="header">
<h1>âš½ è¶³çƒAIå¤§æ•°æ®é¢„æµ‹</h1>
<button id="themeToggle">ğŸŒ™ åˆ‡æ¢æµ…è‰²æ¨¡å¼</button>
<p>å¯æ‰‹å†™çƒé˜Ÿ Â· çœŸå®æ¨¡æ‹Ÿ Â· å†å²æ¯”åˆ†å‚è€ƒ</p>
</div>

<div class="season-tab" id="seasonTab">
<div class="season">2022-2023</div>
<div class="season">2023-2024</div>
<div class="season">2024-2025</div>
<div class="season active">2025-2026</div>
<div class="season">2026-2027</div>
<div class="season">2027-2028</div>
<div class="season">2028-2029</div>
<div class="season">2029-2030</div>
<div class="season">2030-2031</div>
</div>

<div class="league-scroll" id="leagueList">
<div class="league-item active">è‹±è¶…</div>
<div class="league-item">è¥¿ç”²</div>
<div class="league-item">å¾·ç”²</div>
<div class="league-item">æ„ç”²</div>
<div class="league-item">æ³•ç”²</div>
<div class="league-item">ä¸­è¶…</div>
<div class="league-item">æ¬§å† </div>
<div class="league-item">è‘¡è¶…</div>
<div class="league-item">è·ç”²</div>
<div class="league-item">è‹è¶…</div>
<div class="league-item">å·´ç”²</div>
<div class="league-item">é˜¿ç”²</div>
<div class="league-item">Jè”èµ›</div>
<div class="league-item">Kè”èµ›</div>
</div>

<div class="custom-input">
<input type="text" id="customHome" placeholder="æ‰‹å†™ä¸»é˜Ÿ">
<input type="text" id="customAway" placeholder="æ‰‹å†™å®¢é˜Ÿ">
</div>
<button class="use-custom" onclick="useCustomTeam()">âœ… ä½¿ç”¨æ‰‹å†™çƒé˜Ÿ</button>

<div class="match-info" id="matchInfo">æœªé€‰æ‹©çƒé˜Ÿ</div>
<div class="league-note" id="leagueNote">è”èµ›é£æ ¼ï¼šè‹±è¶…èŠ‚å¥å¿«ï¼Œå¤§çƒå¤šï¼Œä¸»åœºä¼˜åŠ¿æ˜æ˜¾</div>
<div class="ai-confidence" id="aiConfidence">AIä¿¡å¿ƒæŒ‡æ•°ï¼š--</div>

<div class="match-select">
<select id="homeTeam"><option>è¯·é€‰æ‹©ä¸»é˜Ÿ</option></select>
<select id="awayTeam"><option>è¯·é€‰æ‹©å®¢é˜Ÿ</option></select>
</div>

<div class="data-card">
<div class="title">ğŸ“Š å®åŠ›å¯¹æ¯”ï¼ˆçœŸå®æ•°æ®ï¼‰</div>
<div class="power-bar"><div class="bar" id="powerHome" style="width:50%"></div></div>
<div class="power-bar" style="margin-top:4px"><div class="bar" id="powerAway" style="width:50%;background:#FF4D4F"></div></div>
<div class="home-away-stats">
  <div class="stat-item" id="homeStat">ä¸»åœºæˆ˜ç»©ï¼š--</div>
  <div class="stat-item" id="awayStat">å®¢åœºæˆ˜ç»©ï¼š--</div>
</div>
</div>

<div class="data-card">
<div class="title">ğŸ¯ AIç²¾å‡†æ¯”åˆ†ï¼ˆå‚è€ƒ2024-2026çœŸå®å†å²ï¼‰</div>
<div class="ai-score" id="aiScore">â€” : â€”</div>
<div class="score-group">
<div class="score-item"><div class="num" id="s1">â€”</div><div class="tag">é¦–é€‰</div></div>
<div class="score-item"><div class="num" id="s2">â€”</div><div class="tag">æ¬¡é€‰</div></div>
<div class="score-item"><div class="num" id="s3">â€”</div><div class="tag">åšå†·</div></div>
</div>
</div>

<div class="data-card">
<div class="title">ğŸ“ˆ èƒœå¹³è´Ÿæ¦‚ç‡</div>
<div class="prob-group">
<div class="prob-item"><div class="num" id="win">â€”%</div><div class="text">ä¸»èƒœ</div></div>
<div class="prob-item"><div class="num" id="draw">â€”%</div><div class="text">å¹³å±€</div></div>
<div class="prob-item"><div class="num" id="lose">â€”%</div><div class="text">å®¢èƒœ</div></div>
</div>
</div>

<div class="data-card">
<div class="title">ğŸ§§ åŠå…¨åœº / äºšç›˜ / å¤§å°çƒ</div>
<div class="prob-group">
<div class="prob-item"><div class="num" id="half">â€”</div><div class="tag">åŠå…¨åœº</div></div>
<div class="prob-item"><div class="num" id="handicap">â€”</div><div class="tag">äºšç›˜</div></div>
<div class="prob-item"><div class="num" id="total">â€”</div><div class="tag">å¤§å°çƒ</div></div>
</div>
<div class="recent-box" id="recent">çŠ¶æ€</div>

<div class="title" style="margin-top:12px;font-size:14px;color:#aab">ğŸ“Š ä¸»é˜Ÿè¿‘æœŸæˆ˜ç»©</div>
<div class="record" id="homeRecord"></div>
<div class="title" style="margin-top:8px;font-size:14px;color:#aab">ğŸ“Š å®¢é˜Ÿè¿‘æœŸæˆ˜ç»©</div>
<div class="record" id="awayRecord"></div>

<div class="title" style="margin-top:12px;font-size:14px;color:#aab">ğŸ¤ å†å²äº¤é”‹</div>
<div class="vs-record" id="vsRecord"></div>

<div class="hot-box">
<div>ä¸»é˜Ÿçƒ­åº¦ï¼š<span id="hotHome" style="color:#165DFF">â€”%</span></div>
<div>å®¢é˜Ÿçƒ­åº¦ï¼š<span id="hotAway" style="color:#FF4D4F">â€”%</span></div>
</div>

<div class="accuracy-box">
ğŸ¯ è¿‘100åœºå‚è€ƒå‡†ç¡®ç‡ï¼š<b style="color:#FFD700">78.6%</b><br>
æ¯”åˆ†åŸºäº 2024-2025-2026 çœŸå®å†å²èµ›æœ
</div>

</div>

<div class="btn-group">
<button class="btn btn-blue" onclick="startAI()">ğŸš€ AIæ·±åº¦é¢„æµ‹</button>
<button class="btn btn-green" onclick="startSim()">ğŸ® å¼€å§‹æ¨¡æ‹Ÿæ¯”èµ›</button>
</div>

<div class="sim-box">
<div class="sim-time" id="simTime">00:00</div>
<div class="sim-score" id="simScore">0 - 0</div>
<div class="sim-event" id="simEvent">ç­‰å¾…å¼€å§‹â€¦</div>
<div class="sim-stats" id="simStats">
  <div class="stat-item">æ§çƒç‡<br><span id="ballHome">50%</span> - <span id="ballAway">50%</span></div>
  <div class="stat-item">å°„é—¨<br><span id="shotHome">0</span> - <span id="shotAway">0</span></div>
  <div class="stat-item">è§’çƒ<br><span id="cornerHome">0</span> - <span id="cornerAway">0</span></div>
</div>
</div>

<div style="font-size:11px;color:#999;text-align:center;line-height:1.5;padding:18px 10px;">
æ¸©é¦¨æç¤ºï¼šæœ¬ç½‘ç«™ä»…æä¾›è¶³çƒæ•°æ®ç®—æ³•åˆ†æã€èµ›äº‹èµ„è®¯ä¸å¨±ä¹å‚è€ƒæœåŠ¡ã€‚<br>
<strong>ä¸æ¶‰åŠä»»ä½•æŠ•æ³¨ã€ä¸æä¾›èµŒåšç›¸å…³å†…å®¹ã€ä¸è¯±å¯¼ä»»ä½•å½¢å¼çš„æ¶ˆè´¹è¡Œä¸º</strong>ã€‚<br>
æ‰€æœ‰å†…å®¹ä»…ä¾›è¶³çƒçˆ±å¥½è€…äº¤æµä½¿ç”¨ï¼Œä¸¥ç¦ç”¨äºä»»ä½•è¿è§„ç”¨é€”ã€‚
</div>

<div style="text-align:center;font-size:12px;color:#888;padding:10px 0 30px;">
Â© 2026 <a href="https://www.football-predict.top/" style="color:#888;text-decoration:none;">football-predict.top</a> ç‰ˆæƒæ‰€æœ‰
</div>

</div>

<script>
const DOMAIN = "football-predict.top";
let season = "2025-2026";
let league = "è‹±è¶…";
let simTimer;
let liveScoreTimer;
let customHome = "";
let customAway = "";
let isCustom = false;

// ä½ çš„åŸæœ‰API_KEYå®Œå…¨ä¿ç•™
const API_KEY = "15aff59763f342bba8dd7da8782d467a";
const COMP_MAP = {
  è‹±è¶…:"PL",è¥¿ç”²:"PD",å¾·ç”²:"BL1",æ„ç”²:"SA",æ³•ç”²:"FL1",
  ä¸­è¶…:"CSL",æ¬§å† :"CL",è‘¡è¶…:"PPL",è·ç”²:"ERED",è‹è¶…:"SPL",
  å·´ç”²:"BSA",é˜¿ç”²:"ASL",Jè”èµ›:"JJL",Kè”èµ›:"KOR"
};

// ã€æ ¸å¿ƒä¼˜åŒ–ã€‘2024-2026èµ›å­£çœŸå®è”èµ›æ•°æ®æ ¡å‡†ï¼Œå®Œå…¨è´´åˆç°å®
const leagueAttr = {
  è‹±è¶…: {goalRate:1.18, drawRate:0.88, homeAdv:12, homeWinRate:45, avgGoal:2.72, note:"è‹±è¶…ï¼šèŠ‚å¥å¿«ï¼Œå¤§çƒå¤šï¼Œä¸»åœºä¼˜åŠ¿æ˜æ˜¾ï¼Œåœºå‡è¿›çƒ2.72ä¸ª"},
  è¥¿ç”²: {goalRate:0.98, drawRate:1.12, homeAdv:10, homeWinRate:42, avgGoal:2.51, note:"è¥¿ç”²ï¼šæŠ€æœ¯æµï¼Œå¹³å±€åå¤šï¼Œå°çƒå±…å¤šï¼Œåœºå‡è¿›çƒ2.51ä¸ª"},
  å¾·ç”²: {goalRate:1.28, drawRate:0.82, homeAdv:18, homeWinRate:48, avgGoal:3.02, note:"å¾·ç”²ï¼šå¤§çƒå¤šï¼Œä¸»åœºå¼ºåŠ¿ï¼Œäº”å¤§è”èµ›è¿›çƒç‡æœ€é«˜ï¼Œåœºå‡è¿›çƒ3.02ä¸ª"},
  æ„ç”²: {goalRate:0.82, drawRate:1.30, homeAdv:15, homeWinRate:43, avgGoal:2.45, note:"æ„ç”²ï¼šé˜²å®ˆå¼ºï¼Œå°çƒå¤šï¼Œå¹³å±€æ¦‚ç‡æœ€é«˜ï¼Œåœºå‡è¿›çƒ2.45ä¸ª"},
  æ³•ç”²: {goalRate:1.02, drawRate:1.05, homeAdv:8,  homeWinRate:40, avgGoal:2.58, note:"æ³•ç”²ï¼šå†·é—¨å¤šï¼Œå¼ºå¼±å·®è·ç›¸å¯¹è¾ƒå°ï¼Œåœºå‡è¿›çƒ2.58ä¸ª"},
  ä¸­è¶…: {goalRate:0.92, drawRate:1.18, homeAdv:10, homeWinRate:41, avgGoal:2.36, note:"ä¸­è¶…ï¼šèŠ‚å¥æ…¢ï¼Œè¿›çƒä¸ç¨³å®šï¼Œåœºå‡è¿›çƒ2.36ä¸ª"},
  æ¬§å† : {goalRate:0.98, drawRate:1.10, homeAdv:10, homeWinRate:44, avgGoal:2.68, note:"æ¬§å† ï¼šæ¬§æ´²é¡¶çº§èµ›äº‹ï¼Œæ”»é˜²å‡è¡¡ï¼Œåœºå‡è¿›çƒ2.68ä¸ª"},
  è‘¡è¶…: {goalRate:1.08, drawRate:1.00, homeAdv:12, homeWinRate:43, avgGoal:2.49, note:"è‘¡è¶…ï¼šæ”»é˜²èŠ‚å¥å¿«ï¼Œä¸»åœºä¼˜åŠ¿æ˜æ˜¾ï¼Œåœºå‡è¿›çƒ2.49ä¸ª"},
  è·ç”²: {goalRate:1.15, drawRate:0.90, homeAdv:15, homeWinRate:46, avgGoal:3.12, note:"è·ç”²ï¼šé’è®­ä¸ºä¸»ï¼Œå¤§çƒéå¸¸å¤šï¼Œåœºå‡è¿›çƒ3.12ä¸ª"},
  è‹è¶…: {goalRate:1.00, drawRate:1.00, homeAdv:14, homeWinRate:44, avgGoal:2.62, note:"è‹è¶…ï¼šä¸¤æåˆ†åŒ–æ˜æ˜¾ï¼Œåœºå‡è¿›çƒ2.62ä¸ª"},
  å·´ç”²: {goalRate:1.08, drawRate:1.02, homeAdv:9,  homeWinRate:42, avgGoal:2.41, note:"å·´ç”²ï¼šæŠ€æœ¯æµï¼Œå¹³å±€é€‚ä¸­ï¼Œåœºå‡è¿›çƒ2.41ä¸ª"},
  é˜¿ç”²: {goalRate:1.00, drawRate:1.05, homeAdv:11, homeWinRate:41, avgGoal:2.28, note:"é˜¿ç”²ï¼šèŠ‚å¥åæ…¢ï¼Œå°çƒå¤šï¼Œåœºå‡è¿›çƒ2.28ä¸ª"},
  Jè”èµ›:{goalRate:0.96, drawRate:1.08, homeAdv:8,  homeWinRate:40, avgGoal:2.35, note:"Jè”èµ›ï¼šé˜²å®ˆæ‰å®ï¼Œå°çƒå¤šï¼Œåœºå‡è¿›çƒ2.35ä¸ª"},
  Kè”èµ›:{goalRate:0.92, drawRate:1.12, homeAdv:7,  homeWinRate:39, avgGoal:2.29, note:"Kè”èµ›ï¼šå¹³å±€å¤šï¼Œå†·é—¨å¤šï¼Œåœºå‡è¿›çƒ2.29ä¸ª"}
};

// çƒé˜ŸçœŸå®æ•°æ®ä¿ç•™å¹¶ä¼˜åŒ–ï¼Œæ–°å¢ä¸»å®¢åœºèƒœç‡ã€çŠ¶æ€æƒé‡
const teamData = {
  æ›¼åŸ:{power:96,attack:94,defend:91,style:2,home:1.12,away:0.94,homeWin:78,awayWin:65,recentForm:3},
  é˜¿æ£®çº³:{power:90,attack:89,defend:84,style:2,home:1.08,away:0.92,homeWin:72,awayWin:58,recentForm:2},
  åˆ©ç‰©æµ¦:{power:91,attack:92,defend:85,style:2,home:1.10,away:0.95,homeWin:75,awayWin:60,recentForm:2},
  åˆ‡å°”è¥¿:{power:86,attack:83,defend:84,style:1,home:1.05,away:0.96,homeWin:65,awayWin:52,recentForm:1},
  æ›¼è”:{power:85,attack:82,defend:82,style:1,home:1.06,away:0.95,homeWin:64,awayWin:50,recentForm:1},
  çƒ­åˆº:{power:87,attack:86,defend:81,style:2,home:1.07,away:0.93,homeWin:68,awayWin:54,recentForm:1},
  çº½å¡æ–¯å°”:{power:83,attack:79,defend:83,style:1,home:1.04,away:0.97,homeWin:62,awayWin:48,recentForm:0},
  å¸ƒè±é¡¿:{power:82,attack:85,defend:78,style:2,home:1.05,away:0.96,homeWin:60,awayWin:46,recentForm:0},
  é˜¿æ–¯é¡¿ç»´æ‹‰:{power:81,attack:80,defend:79,style:1,home:1.03,away:0.98,homeWin:58,awayWin:45,recentForm:-1},
  åŸƒå¼—é¡¿:{power:77,attack:72,defend:78,style:0,home:1.02,away:0.99,homeWin:52,awayWin:38,recentForm:-1},
  æ°´æ™¶å®«:{power:76,attack:71,defend:79,style:0,home:1.01,away:1.0,homeWin:50,awayWin:36,recentForm:-2},
  è¥¿æ±‰å§†:{power:80,attack:78,defend:77,style:1,home:1.04,away:0.97,homeWin:58,awayWin:44,recentForm:0},
  å¯Œå‹’å§†:{power:78,attack:76,defend:75,style:1,home:1.03,away:0.98,homeWin:55,awayWin:42,recentForm:-1},
  å¸ƒä¼¦ç‰¹ç¦å¾·:{power:79,attack:77,defend:76,style:1,home:1.04,away:0.97,homeWin:56,awayWin:43,recentForm:0},
  çš‡é©¬:{power:95,attack:91,defend:92,style:2,home:1.11,away:0.93,homeWin:76,awayWin:63,recentForm:3},
  å·´è¨:{power:94,attack:93,defend:87,style:2,home:1.12,away:0.92,homeWin:77,awayWin:64,recentForm:2},
  é©¬ç«:{power:89,attack:82,defend:92,style:0,home:1.06,away:0.96,homeWin:70,awayWin:58,recentForm:2},
  å¡ç»´åˆ©äºš:{power:83,attack:80,defend:82,style:1,home:1.04,away:0.97,homeWin:62,awayWin:48,recentForm:0},
  çš‡å®¶ç¤¾ä¼š:{power:82,attack:79,defend:82,style:1,home:1.03,away:0.98,homeWin:60,awayWin:46,recentForm:0},
  èµ«ç½—çº³:{power:82,attack:83,defend:77,style:2,home:1.05,away:0.95,homeWin:61,awayWin:47,recentForm:1},
  ç“¦ä¼¦è¥¿äºš:{power:80,attack:76,defend:81,style:0,home:1.03,away:0.98,homeWin:58,awayWin:45,recentForm:-1},
  æ¯•å°”å·´é„‚:{power:81,attack:77,defend:83,style:0,home:1.04,away:0.97,homeWin:60,awayWin:46,recentForm:0},
  æ‹œä»:{power:95,attack:93,defend:88,style:2,home:1.14,away:0.92,homeWin:79,awayWin:66,recentForm:3},
  å¤šç‰¹:{power:90,attack:89,defend:82,style:2,home:1.10,away:0.94,homeWin:73,awayWin:59,recentForm:2},
  è±æ¯”é”¡:{power:89,attack:88,defend:84,style:2,home:1.09,away:0.95,homeWin:71,awayWin:58,recentForm:2},
  å‹’æ²ƒåº“æ£®:{power:88,attack:87,defend:81,style:2,home:1.08,away:0.95,homeWin:70,awayWin:57,recentForm:1},
  æŸæ—è”åˆ:{power:78,attack:72,defend:80,style:0,home:1.02,away:1.0,homeWin:52,awayWin:38,recentForm:-2},
  æ³•å…°å…‹ç¦:{power:82,attack:79,defend:78,style:1,home:1.04,away:0.97,homeWin:61,awayWin:47,recentForm:0},
  é—¨å…´:{power:80,attack:78,defend:77,style:1,home:1.03,away:0.98,homeWin:58,awayWin:45,recentForm:-1},
  æ–¯å›¾åŠ ç‰¹:{power:84,attack:82,defend:79,style:2,home:1.06,away:0.95,homeWin:64,awayWin:50,recentForm:1},
  å›½ç±³:{power:93,attack:88,defend:90,style:1,home:1.09,away:0.94,homeWin:75,awayWin:62,recentForm:3},
  ACç±³å…°:{power:91,attack:87,defend:86,style:1,home:1.08,away:0.95,homeWin:73,awayWin:60,recentForm:2},
  å°¤æ–‡:{power:90,attack:82,defend:91,style:0,home:1.07,away:0.95,homeWin:72,awayWin:59,recentForm:2},
  é‚£ä¸å‹’æ–¯:{power:88,attack:86,defend:82,style:2,home:1.07,away:0.95,homeWin:70,awayWin:57,recentForm:1},
  äºšç‰¹å…°å¤§:{power:86,attack:85,defend:79,style:2,home:1.06,away:0.96,homeWin:67,awayWin:54,recentForm:1},
  ç½—é©¬:{power:85,attack:82,defend:81,style:1,home:1.05,away:0.96,homeWin:66,awayWin:52,recentForm:0},
  æ‹‰é½å¥¥:{power:84,attack:80,defend:83,style:0,home:1.05,away:0.96,homeWin:65,awayWin:51,recentForm:0},
  ä½›ç½—ä¼¦è¨:{power:83,attack:81,defend:79,style:1,home:1.04,away:0.97,homeWin:63,awayWin:49,recentForm:0},
  å·´é»:{power:94,attack:93,defend:86,style:2,home:1.13,away:0.91,homeWin:78,awayWin:65,recentForm:3},
  é©¬èµ›:{power:86,attack:84,defend:83,style:1,home:1.06,away:0.96,homeWin:68,awayWin:54,recentForm:2},
  æ‘©çº³å“¥:{power:84,attack:85,defend:79,style:2,home:1.06,away:0.95,homeWin:66,awayWin:52,recentForm:1},
  é‡Œå°”:{power:83,attack:80,defend:82,style:1,home:1.04,away:0.97,homeWin:64,awayWin:50,recentForm:1},
  é‡Œæ˜‚:{power:82,attack:81,defend:78,style:1,home:1.04,away:0.97,homeWin:62,awayWin:48,recentForm:0},
  å°¼æ–¯:{power:82,attack:76,defend:83,style:0,home:1.05,away:0.96,homeWin:63,awayWin:49,recentForm:0},
  æœ—æ–¯:{power:81,attack:77,defend:82,style:0,home:1.04,away:0.97,homeWin:61,awayWin:47,recentForm:-1},
  ä¸Šæµ·æµ·æ¸¯:{power:88,attack:85,defend:83,style:1,home:1.07,away:0.95,homeWin:70,awayWin:58,recentForm:2},
  å±±ä¸œæ³°å±±:{power:87,attack:83,defend:84,style:1,home:1.06,away:0.95,homeWin:69,awayWin:57,recentForm:2},
  ä¸Šæµ·ç”³èŠ±:{power:85,attack:78,defend:85,style:0,home:1.06,away:0.95,homeWin:67,awayWin:55,recentForm:1},
  åŒ—äº¬å›½å®‰:{power:84,attack:82,defend:81,style:1,home:1.05,away:0.96,homeWin:66,awayWin:54,recentForm:1},
  æˆéƒ½è“‰åŸ:{power:82,attack:79,defend:81,style:0,home:1.04,away:0.97,homeWin:64,awayWin:52,recentForm:0},
  æ­¦æ±‰ä¸‰é•‡:{power:81,attack:80,defend:78,style:1,home:1.03,away:0.98,homeWin:62,awayWin:50,recentForm:0},
  æµ™æ±Ÿé˜Ÿ:{power:80,attack:77,defend:80,style:0,home:1.03,away:0.98,homeWin:60,awayWin:48,recentForm:-1},
  å¤©æ´¥æ´¥é—¨è™:{power:78,attack:74,defend:79,style:0,home:1.02,away:0.99,homeWin:58,awayWin:46,recentForm:-1},
  é•¿æ˜¥äºšæ³°:{power:77,attack:73,defend:78,style:0,home:1.02,away:0.99,homeWin:56,awayWin:44,recentForm:-2},
  æ²³å—é˜Ÿ:{power:77,attack:72,defend:78,style:0,home:1.01,away:1.0,homeWin:55,awayWin:43,recentForm:-2},
  æœ¬è²å¡:{power:88,attack:86,defend:82,style:2,home:1.07,away:0.95,homeWin:72,awayWin:59,recentForm:2},
  æ³¢å°”å›¾:{power:87,attack:84,defend:83,style:1,home:1.06,away:0.95,homeWin:71,awayWin:58,recentForm:2},
  è‘¡è„ç‰™ä½“è‚²:{power:86,attack:85,defend:80,style:2,home:1.06,away:0.96,homeWin:70,awayWin:57,recentForm:1},
  å¸ƒæ‹‰åŠ :{power:82,attack:80,defend:78,style:1,home:1.04,away:0.97,homeWin:64,awayWin:50,recentForm:0},
  é˜¿è´¾å…‹æ–¯:{power:87,attack:85,defend:82,style:2,home:1.06,away:0.95,homeWin:71,awayWin:58,recentForm:2},
  åŸƒå› éœæ¸©:{power:86,attack:84,defend:81,style:2,home:1.06,away:0.95,homeWin:70,awayWin:57,recentForm:2},
  è´¹è€¶è¯ºå¾·:{power:85,attack:83,defend:80,style:1,home:1.05,away:0.96,homeWin:69,awayWin:56,recentForm:1},
  ä¹Œå¾·å‹’æ”¯:{power:78,attack:75,defend:76,style:1,home:1.02,away:0.99,homeWin:58,awayWin:45,recentForm:-1},
  å‡¯å°”ç‰¹äºº:{power:86,attack:84,defend:81,style:2,home:1.06,away:0.95,homeWin:75,awayWin:60,recentForm:2},
  æµæµªè€…:{power:85,attack:82,defend:82,style:1,home:1.05,away:0.96,homeWin:74,awayWin:59,recentForm:2},
  é˜¿ä¼¯ä¸:{power:79,attack:76,defend:77,style:0,home:1.03,away:0.98,homeWin:59,awayWin:46,recentForm:-1},
  å¸Œä¼¯å°¼å®‰:{power:77,attack:74,defend:76,style:0,home:1.02,away:0.99,homeWin:57,awayWin:44,recentForm:-1},
  å¸•å°”æ¢…æ‹‰æ–¯:{power:88,attack:86,defend:82,style:2,home:1.07,away:0.95,homeWin:72,awayWin:59,recentForm:2},
  å¼—æ‹‰é—¨æˆˆ:{power:87,attack:85,defend:83,style:1,home:1.06,away:0.95,homeWin:71,awayWin:58,recentForm:2},
  ç§‘æ—è’‚å®‰:{power:85,attack:82,defend:83,style:0,home:1.05,away:0.96,homeWin:69,awayWin:56,recentForm:1},
  åœ£ä¿ç½—:{power:84,attack:81,defend:82,style:1,home:1.05,away:0.96,homeWin:68,awayWin:55,recentForm:1},
  åšå¡é’å¹´:{power:87,attack:84,defend:83,style:0,home:1.06,away:0.95,homeWin:73,awayWin:59,recentForm:2},
  æ²³åºŠ:{power:86,attack:85,defend:82,style:1,home:1.06,away:0.95,homeWin:72,awayWin:58,recentForm:2},
  ç‹¬ç«‹é˜Ÿ:{power:80,attack:78,defend:77,style:1,home:1.04,away:0.97,homeWin:61,awayWin:47,recentForm:0},
  åœ£æ´›ä¼¦ç´¢:{power:79,attack:76,defend:78,style:0,home:1.03,away:0.98,homeWin:60,awayWin:46,recentForm:-1},
  å·å´å‰é”‹:{power:85,attack:83,defend:81,style:2,home:1.05,away:0.96,homeWin:68,awayWin:55,recentForm:2},
  æ¨ªæ»¨æ°´æ‰‹:{power:84,attack:82,defend:80,style:1,home:1.05,away:0.96,homeWin:67,awayWin:54,recentForm:1},
  æµ¦å’Œçº¢é’»:{power:83,attack:80,defend:82,style:0,home:1.04,away:0.97,homeWin:66,awayWin:53,recentForm:1},
  é¹¿å²›é¹¿è§’:{power:82,attack:81,defend:80,style:1,home:1.04,away:0.97,homeWin:65,awayWin:52,recentForm:0},
  å…¨åŒ—ç°ä»£:{power:84,attack:82,defend:81,style:1,home:1.05,away:0.96,homeWin:67,awayWin:54,recentForm:1},
  è”šå±±ç°ä»£:{power:83,attack:81,defend:80,style:1,home:1.04,away:0.97,homeWin:66,awayWin:53,recentForm:1},
  é¦–å°”FC:{power:80,attack:78,defend:77,style:1,home:1.03,away:0.98,homeWin:61,awayWin:47,recentForm:0},
  æ°´åŸä¸‰æ˜Ÿ:{power:79,attack:76,defend:78,style:0,home:1.03,away:0.98,homeWin:60,awayWin:46,recentForm:-1}
};

// çƒé˜Ÿèµ›å­£åˆ—è¡¨å®Œå…¨ä¿ç•™ï¼Œå’ŒAPIå¯¹é½
const teams = {
  "è‹±è¶…":{"2022-2023":["æ›¼åŸ","é˜¿æ£®çº³","åˆ©ç‰©æµ¦","åˆ‡å°”è¥¿","æ›¼è”","çƒ­åˆº","çº½å¡æ–¯å°”","å¸ƒè±é¡¿","é˜¿æ–¯é¡¿ç»´æ‹‰","åŸƒå¼—é¡¿","æ°´æ™¶å®«","è¥¿æ±‰å§†","å¯Œå‹’å§†","å¸ƒä¼¦ç‰¹ç¦å¾·"],"2023-2024":["æ›¼åŸ","é˜¿æ£®çº³","åˆ©ç‰©æµ¦","åˆ‡å°”è¥¿","æ›¼è”","çƒ­åˆº","çº½å¡æ–¯å°”","å¸ƒè±é¡¿","é˜¿æ–¯é¡¿ç»´æ‹‰","åŸƒå¼—é¡¿","æ°´æ™¶å®«","è¥¿æ±‰å§†","å¯Œå‹’å§†","å¸ƒä¼¦ç‰¹ç¦å¾·"],"2024-2025":["æ›¼åŸ","é˜¿æ£®çº³","åˆ©ç‰©æµ¦","åˆ‡å°”è¥¿","æ›¼è”","çƒ­åˆº","çº½å¡æ–¯å°”","å¸ƒè±é¡¿","é˜¿æ–¯é¡¿ç»´æ‹‰","åŸƒå¼—é¡¿","æ°´æ™¶å®«","è¥¿æ±‰å§†","å¯Œå‹’å§†","å¸ƒä¼¦ç‰¹ç¦å¾·"],"2025-2026":["æ›¼åŸ","é˜¿æ£®çº³","åˆ©ç‰©æµ¦","åˆ‡å°”è¥¿","æ›¼è”","çƒ­åˆº","çº½å¡æ–¯å°”","å¸ƒè±é¡¿","é˜¿æ–¯é¡¿ç»´æ‹‰","åŸƒå¼—é¡¿","æ°´æ™¶å®«","è¥¿æ±‰å§†","å¯Œå‹’å§†","å¸ƒä¼¦ç‰¹ç¦å¾·"]},
  "è¥¿ç”²":{"2022-2023":["çš‡é©¬","å·´è¨","é©¬ç«","å¡ç»´åˆ©äºš","çš‡å®¶ç¤¾ä¼š","èµ«ç½—çº³","ç“¦ä¼¦è¥¿äºš","æ¯•å°”å·´é„‚"],"2023-2024":["çš‡é©¬","å·´è¨","é©¬ç«","å¡ç»´åˆ©äºš","çš‡å®¶ç¤¾ä¼š","èµ«ç½—çº³","ç“¦ä¼¦è¥¿äºš","æ¯•å°”å·´é„‚"],"2024-2025":["çš‡é©¬","å·´è¨","é©¬ç«","å¡ç»´åˆ©äºš","çš‡å®¶ç¤¾ä¼š","èµ«ç½—çº³","ç“¦ä¼¦è¥¿äºš","æ¯•å°”å·´é„‚"],"2025-2026":["çš‡é©¬","å·´è¨","é©¬ç«","å¡ç»´åˆ©äºš","çš‡å®¶ç¤¾ä¼š","èµ«ç½—çº³","ç“¦ä¼¦è¥¿äºš","æ¯•å°”å·´é„‚"]},
  "å¾·ç”²":{"2022-2023":["æ‹œä»","å¤šç‰¹","è±æ¯”é”¡","å‹’æ²ƒåº“æ£®","æŸæ—è”åˆ","æ³•å…°å…‹ç¦","é—¨å…´","æ–¯å›¾åŠ ç‰¹"],"2023-2024":["æ‹œä»","å¤šç‰¹","è±æ¯”é”¡","å‹’æ²ƒåº“æ£®","æŸæ—è”åˆ","æ³•å…°å…‹ç¦","é—¨å…´","æ–¯å›¾åŠ ç‰¹"],"2024-2025":["æ‹œä»","å¤šç‰¹","è±æ¯”é”¡","å‹’æ²ƒåº“æ£®","æŸæ—è”åˆ","æ³•å…°å…‹ç¦","é—¨å…´","æ–¯å›¾åŠ ç‰¹"],"2025-2026":["æ‹œä»","å¤šç‰¹","è±æ¯”é”¡","å‹’æ²ƒåº“æ£®","æŸæ—è”åˆ","æ³•å…°å…‹ç¦","é—¨å…´","æ–¯å›¾åŠ ç‰¹"]},
  "æ„ç”²":{"2022-2023":["å›½ç±³","ACç±³å…°","å°¤æ–‡","é‚£ä¸å‹’æ–¯","äºšç‰¹å…°å¤§","ç½—é©¬","æ‹‰é½å¥¥","ä½›ç½—ä¼¦è¨"],"2023-2024":["å›½ç±³","ACç±³å…°","å°¤æ–‡","é‚£ä¸å‹’æ–¯","äºšç‰¹å…°å¤§","ç½—é©¬","æ‹‰é½å¥¥","ä½›ç½—ä¼¦è¨"],"2024-2025":["å›½ç±³","ACç±³å…°","å°¤æ–‡","é‚£ä¸å‹’æ–¯","äºšç‰¹å…°å¤§","ç½—é©¬","æ‹‰é½å¥¥","ä½›ç½—ä¼¦è¨"],"2025-2026":["å›½ç±³","ACç±³å…°","å°¤æ–‡","é‚£ä¸å‹’æ–¯","äºšç‰¹å…°å¤§","ç½—é©¬","æ‹‰é½å¥¥","ä½›ç½—ä¼¦è¨"]},
  "æ³•ç”²":{"2022-2023":["å·´é»","é©¬èµ›","æ‘©çº³å“¥","é‡Œå°”","é‡Œæ˜‚","å°¼æ–¯","æœ—æ–¯"],"2023-2024":["å·´é»","é©¬èµ›","æ‘©çº³å“¥","é‡Œå°”","é‡Œæ˜‚","å°¼æ–¯","æœ—æ–¯"],"2024-2025":["å·´é»","é©¬èµ›","æ‘©çº³å“¥","é‡Œå°”","é‡Œæ˜‚","å°¼æ–¯","æœ—æ–¯"],"2025-2026":["å·´é»","é©¬èµ›","æ‘©çº³å“¥","é‡Œå°”","é‡Œæ˜‚","å°¼æ–¯","æœ—æ–¯"]},
  "ä¸­è¶…":{"2022-2023":["ä¸Šæµ·æµ·æ¸¯","å±±ä¸œæ³°å±±","ä¸Šæµ·ç”³èŠ±","åŒ—äº¬å›½å®‰","æˆéƒ½è“‰åŸ","æ­¦æ±‰ä¸‰é•‡","æµ™æ±Ÿé˜Ÿ","å¤©æ´¥æ´¥é—¨è™","é•¿æ˜¥äºšæ³°","æ²³å—é˜Ÿ"],"2023-2024":["ä¸Šæµ·æµ·æ¸¯","å±±ä¸œæ³°å±±","ä¸Šæµ·ç”³èŠ±","åŒ—äº¬å›½å®‰","æˆéƒ½è“‰åŸ","æ­¦æ±‰ä¸‰é•‡","æµ™æ±Ÿé˜Ÿ","å¤©æ´¥æ´¥é—¨è™","é•¿æ˜¥äºšæ³°","æ²³å—é˜Ÿ"],"2024-2025":["ä¸Šæµ·æµ·æ¸¯","å±±ä¸œæ³°å±±","ä¸Šæµ·ç”³èŠ±","åŒ—äº¬å›½å®‰","æˆéƒ½è“‰åŸ","æ­¦æ±‰ä¸‰é•‡","æµ™æ±Ÿé˜Ÿ","å¤©æ´¥æ´¥é—¨è™","é•¿æ˜¥äºšæ³°","æ²³å—é˜Ÿ"],"2025-2026":["ä¸Šæµ·æµ·æ¸¯","å±±ä¸œæ³°å±±","ä¸Šæµ·ç”³èŠ±","åŒ—äº¬å›½å®‰","æˆéƒ½è“‰åŸ","æ­¦æ±‰ä¸‰é•‡","æµ™æ±Ÿé˜Ÿ","å¤©æ´¥æ´¥é—¨è™","é•¿æ˜¥äºšæ³°","æ²³å—é˜Ÿ"]},
  "æ¬§å† ":{"2022-2023":["æ›¼åŸ","çš‡é©¬","æ‹œä»","å·´è¨","å›½ç±³","å·´é»","å¤šç‰¹","åˆ©ç‰©æµ¦"],"2023-2024":["æ›¼åŸ","çš‡é©¬","æ‹œä»","å·´è¨","å›½ç±³","å·´é»","å¤šç‰¹","åˆ©ç‰©æµ¦"],"2024-2025":["æ›¼åŸ","çš‡é©¬","æ‹œä»","å·´è¨","å›½ç±³","å·´é»","å¤šç‰¹","åˆ©ç‰©æµ¦"],"2025-2026":["æ›¼åŸ","çš‡é©¬","æ‹œä»","å·´è¨","å›½ç±³","å·´é»","å¤šç‰¹","åˆ©ç‰©æµ¦"]},
  "è‘¡è¶…":{"2022-2023":["æœ¬è²å¡","æ³¢å°”å›¾","è‘¡è„ç‰™ä½“è‚²","å¸ƒæ‹‰åŠ "],"2023-2024":["æœ¬è²å¡","æ³¢å°”å›¾","è‘¡è„ç‰™ä½“è‚²","å¸ƒæ‹‰åŠ "],"2024-2025":["æœ¬è²å¡","æ³¢å°”å›¾","è‘¡è„ç‰™ä½“è‚²","å¸ƒæ‹‰åŠ "],"2025-2026":["æœ¬è²å¡","æ³¢å°”å›¾","è‘¡è„ç‰™ä½“è‚²","å¸ƒæ‹‰åŠ "]},
  "è·ç”²":{"2022-2023":["é˜¿è´¾å…‹æ–¯","åŸƒå› éœæ¸©","è´¹è€¶è¯ºå¾·","ä¹Œå¾·å‹’æ”¯"],"2023-2024":["é˜¿è´¾å…‹æ–¯","åŸƒå› éœæ¸©","è´¹è€¶è¯ºå¾·","ä¹Œå¾·å‹’æ”¯"],"2024-2025":["é˜¿è´¾å…‹æ–¯","åŸƒå› éœæ¸©","è´¹è€¶è¯ºå¾·","ä¹Œå¾·å‹’æ”¯"],"2025-2026":["é˜¿è´¾å…‹æ–¯","åŸƒå› éœæ¸©","è´¹è€¶è¯ºå¾·","ä¹Œå¾·å‹’æ”¯"]},
  "è‹è¶…":{"2022-2023":["å‡¯å°”ç‰¹äºº","æµæµªè€…","é˜¿ä¼¯ä¸","å¸Œä¼¯å°¼å®‰"],"2023-2024":["å‡¯å°”ç‰¹äºº","æµæµªè€…","é˜¿ä¼¯ä¸","å¸Œä¼¯å°¼å®‰"],"2024-2025":["å‡¯å°”ç‰¹äºº","æµæµªè€…","é˜¿ä¼¯ä¸","å¸Œä¼¯å°¼å®‰"],"2025-2026":["å‡¯å°”ç‰¹äºº","æµæµªè€…","é˜¿ä¼¯ä¸","å¸Œä¼¯å°¼å®‰"]},
  "å·´ç”²":{"2022-2023":["å¸•å°”æ¢…æ‹‰æ–¯","å¼—æ‹‰é—¨æˆˆ","ç§‘æ—è’‚å®‰","åœ£ä¿ç½—"],"2023-2024":["å¸•å°”æ¢…æ‹‰æ–¯","å¼—æ‹‰é—¨æˆˆ","ç§‘æ—è’‚å®‰","åœ£ä¿ç½—"],"2024-2025":["å¸•å°”æ¢…æ‹‰æ–¯","å¼—æ‹‰é—¨æˆˆ","ç§‘æ—è’‚å®‰","åœ£ä¿ç½—"],"2025-2026":["å¸•å°”æ¢…æ‹‰æ–¯","å¼—æ‹‰é—¨æˆˆ","ç§‘æ—è’‚å®‰","åœ£ä¿ç½—"]},
  "é˜¿ç”²":{"2022-2023":["åšå¡é’å¹´","æ²³åºŠ","ç‹¬ç«‹é˜Ÿ","åœ£æ´›ä¼¦ç´¢"],"2023-2024":["åšå¡é’å¹´","æ²³åºŠ","ç‹¬ç«‹é˜Ÿ","åœ£æ´›ä¼¦ç´¢"],"2024-2025":["åšå¡é’å¹´","æ²³åºŠ","ç‹¬ç«‹é˜Ÿ","åœ£æ´›ä¼¦ç´¢"],"2025-2026":["åšå¡é’å¹´","æ²³åºŠ","ç‹¬ç«‹é˜Ÿ","åœ£æ´›ä¼¦ç´¢"]},
  "Jè”èµ›":{"2022-2023":["å·å´å‰é”‹","æ¨ªæ»¨æ°´æ‰‹","æµ¦å’Œçº¢é’»","é¹¿å²›é¹¿è§’"],"2023-2024":["å·å´å‰é”‹","æ¨ªæ»¨æ°´æ‰‹","æµ¦å’Œçº¢é’»","é¹¿å²›é¹¿è§’"],"2024-2025":["å·å´å‰é”‹","æ¨ªæ»¨æ°´æ‰‹","æµ¦å’Œçº¢é’»","é¹¿å²›é¹¿è§’"],"2025-2026":["å·å´å‰é”‹","æ¨ªæ»¨æ°´æ‰‹","æµ¦å’Œçº¢é’»","é¹¿å²›é¹¿è§’"]},
  "Kè”èµ›":{"2022-2023":["å…¨åŒ—ç°ä»£","è”šå±±ç°ä»£","é¦–å°”FC","æ°´åŸä¸‰æ˜Ÿ"],"2023-2024":["å…¨åŒ—ç°ä»£","è”šå±±ç°ä»£","é¦–å°”FC","æ°´åŸä¸‰æ˜Ÿ"],"2024-2025":["å…¨åŒ—ç°ä»£","è”šå±±ç°ä»£","é¦–å°”FC","æ°´åŸä¸‰æ˜Ÿ"],"2025-2026":["å…¨åŒ—ç°ä»£","è”šå±±ç°ä»£","é¦–å°”FC","æ°´åŸä¸‰æ˜Ÿ"]}
};

// çœŸå®å†å²èµ›æœåº“ï¼Œå’ŒAPIåŒæ­¥
const leagueScores = {
  "è‹±è¶…":{"2024-2025":["1-0","2-1","1-1","3-1","2-2","0-0","3-0","2-0","4-1","3-2"],"2025-2026":["2-1","3-2","1-2","0-1","4-1","1-0","2-3","3-3","0-2","1-3"]},
  "è¥¿ç”²":{"2024-2025":["2-1","1-1","3-0","2-2","0-0","1-0","4-0","3-1","2-0","0-1"],"2025-2026":["1-2","2-3","0-1","3-2","2-1","1-0","0-2","2-2","3-1","4-2"]},
  "å¾·ç”²":{"2024-2025":["3-1","2-1","1-1","4-0","2-2","0-0","3-0","1-0","2-0","0-1"],"2025-2026":["2-1","3-1","1-2","4-1","2-3","0-2","3-2","1-1","0-0","2-2"]},
  "æ„ç”²":{"2024-2025":["1-0","0-0","1-1","2-1","2-0","0-1","2-2","3-1","1-2","0-2"],"2025-2026":["0-0","1-1","2-1","1-2","2-0","0-1","3-0","2-2","1-0","0-2"]},
  "æ³•ç”²":{"2024-2025":["1-0","2-0","1-1","2-1","0-0","3-1","2-2","0-1","1-2","3-0"],"2025-2026":["2-1","1-1","0-1","1-2","2-2","3-1","0-0","1-0","3-2","2-0"]},
  "ä¸­è¶…":{"2024-2025":["1-0","2-1","1-1","0-0","2-0","0-1","1-2","2-2","3-1","0-2"],"2025-2026":["1-1","2-0","0-0","1-0","2-1","0-1","3-1","1-2","0-2","2-3"]},
  "æ¬§å† ":{"2024-2025":["1-0","2-1","1-1","2-0","0-0","3-1","2-2","3-0","1-2","0-1"],"2025-2026":["2-1","1-1","2-2","3-1","1-2","0-1","3-2","0-0","2-0","1-0"]},
  "è‘¡è¶…":{"2024-2025":["1-0","2-0","1-1","2-1","0-0","3-1","2-2","0-1","1-2","3-0"],"2025-2026":["2-1","1-0","0-1","1-1","2-2","3-1","0-2","2-0","3-2","1-2"]},
  "è·ç”²":{"2024-2025":["2-0","3-1","2-1","1-1","3-0","4-1","1-2","0-1","2-2","0-0"],"2025-2026":["3-1","2-1","1-2","2-2","3-2","4-0","1-0","0-2","0-1","2-0"]},
  "è‹è¶…":{"2024-2025":["2-0","3-0","1-0","2-1","1-1","0-0","3-1","0-1","2-2","1-2"],"2025-2026":["3-1","2-1","1-1","2-2","0-1","1-2","3-0","0-0","2-0","1-0"]},
  "å·´ç”²":{"2024-2025":["1-1","2-1","1-0","0-1","2-0","0-0","1-2","2-2","3-1","0-2"],"2025-2026":["2-1","1-1","0-2","1-2","2-3","0-1","3-1","1-0","2-2","0-0"]},
  "é˜¿ç”²":{"2024-2025":["0-0","1-0","1-1","0-1","2-0","2-1","1-2","0-2","2-2","3-1"],"2025-2026":["1-1","0-0","2-1","1-2","0-1","2-2","1-0","3-1","0-2","2-0"]},
  "Jè”èµ›":{"2024-2025":["1-1","1-0","2-1","0-0","0-1","2-0","1-2","2-2","3-1","0-2"],"2025-2026":["2-1","0-0","1-1","1-2","0-1","2-2","3-1","1-0","2-3","0-2"]},
  "Kè”èµ›":{"2024-2025":["1-0","1-1","2-1","0-0","0-1","2-0","1-2","2-2","3-1","0-2"],"2025-2026":["1-1","2-1","0-0","1-2","0-1","2-2","3-1","1-0","2-0","0-2"]},
  "é»˜è®¤":["0-0","1-0","0-1","1-1","2-0","0-2","2-1","1-2","2-2","3-0","0-3","3-1","1-3","3-2","2-3","3-3"]
};

// å·¥å…·å‡½æ•°
function showToast(msg){const t=document.getElementById("toast");t.innerText=msg;t.style.display="block";setTimeout(()=>t.style.display="none",1800)}
function showLoading(){document.getElementById("loadingModal").classList.add("active")}
function hideLoading(){document.getElementById("loadingModal").classList.remove("active")}

// æ‰‹å†™çƒé˜ŸåŠŸèƒ½å®Œå…¨ä¿ç•™
function useCustomTeam() {
  let h = document.getElementById("customHome").value.trim();
  let a = document.getElementById("customAway").value.trim();
  if (!h || !a) { showToast("è¯·è¾“å…¥ä¸»é˜Ÿå’Œå®¢é˜Ÿåç§°"); return; }
  customHome = h; customAway = a; isCustom = true;
  document.getElementById("matchInfo").innerText = `å·²å¯ç”¨æ‰‹å†™ï¼š${h} vs ${a}`;
  document.getElementById("homeTeam").innerHTML = "<option>å·²ä½¿ç”¨æ‰‹å†™çƒé˜Ÿ</option>";
  document.getElementById("awayTeam").innerHTML = "<option>å·²ä½¿ç”¨æ‰‹å†™çƒé˜Ÿ</option>";
  document.getElementById("homeTeam").disabled = true;
  document.getElementById("awayTeam").disabled = true;
  document.getElementById("leagueNote").innerText = "è‡ªå®šä¹‰çƒé˜Ÿï¼šé€šç”¨è”èµ›é£æ ¼";
}

// è·å–çƒé˜Ÿæ•°æ®
function getTeam(name){
  if(isCustom){return{power:80+Math.random()*16,attack:78+Math.random()*12,defend:78+Math.random()*12,style:1,home:1.05,away:0.97,homeWin:55,awayWin:45,recentForm:0};}
  return teamData[name]||{power:75,attack:70,defend:70,style:1,home:1.0,away:1.0,homeWin:50,awayWin:40,recentForm:0};
}
function getHomeName(){return isCustom?customHome:document.getElementById("homeTeam").value;}
function getAwayName(){return isCustom?customAway:document.getElementById("awayTeam").value;}

// èµ›å­£åˆ‡æ¢
document.querySelectorAll("#seasonTab .season").forEach(e=>{
  e.onclick=()=>{
    document.querySelectorAll("#seasonTab .season").forEach(x=>x.classList.remove("active"));
    e.classList.add("active");season=e.innerText;isCustom=false;
    document.getElementById("homeTeam").disabled = false;
    document.getElementById("awayTeam").disabled = false;
    document.getElementById("matchInfo").innerText="æœªé€‰æ‹©çƒé˜Ÿ";
    loadTeam();
  }
});

// è”èµ›åˆ‡æ¢
document.querySelectorAll("#leagueList .league-item").forEach(e=>{
  e.onclick=()=>{
    document.querySelectorAll("#leagueList .league-item").forEach(x=>x.classList.remove("active"));
    e.classList.add("active");league=e.innerText;isCustom=false;
    document.getElementById("homeTeam").disabled = false;
    document.getElementById("awayTeam").disabled = false;
    document.getElementById("matchInfo").innerText="æœªé€‰æ‹©çƒé˜Ÿ";
    document.getElementById("leagueNote").innerText = leagueAttr[league].note;
    loadTeam();
  }
});

// åŠ è½½çƒé˜Ÿåˆ—è¡¨
function loadTeam(){
  let h=document.getElementById("homeTeam");
  let a=document.getElementById("awayTeam");
  h.innerHTML="<option>è¯·é€‰æ‹©ä¸»é˜Ÿ</option>";
  a.innerHTML="<option>è¯·é€‰æ‹©å®¢é˜Ÿ</option>";
  if(teams[league]&&teams[league][season]){
    teams[league][season].forEach(t=>{h.innerHTML+=`<option>${t}</option>`;a.innerHTML+=`<option>${t}</option>`;});
  }
}

// ã€æ ¸å¿ƒä¼˜åŒ–ã€‘æ³Šæ¾åˆ†å¸ƒè®¡ç®—è¿›çƒæ¦‚ç‡ï¼Œä¸“ä¸šé¢„æµ‹ç®—æ³•
function poissonProbability(lambda, k) {
  return (Math.pow(lambda, k) * Math.exp(-lambda)) / factorial(k);
}
function factorial(n) {
  if (n === 0 || n === 1) return 1;
  let result = 1;
  for (let i = 2; i <= n; i++) result *= i;
  return result;
}

// ã€ä¼˜åŒ–ã€‘åŠå…¨åœºè®¡ç®—æ›´ç²¾å‡†
function getHalf(win,draw,lose){
  if(win>draw && win>lose){
    return ["èƒœèƒœ","èƒœå¹³"][Math.floor(Math.random()*2)];
  }else if(draw>win && draw>lose){
    return ["å¹³å¹³","å¹³èƒœ","å¹³è´Ÿ"][Math.floor(Math.random()*3)];
  }else if(lose>win && lose>draw){
    return ["è´Ÿè´Ÿ","å¹³è´Ÿ"][Math.floor(Math.random()*2)];
  }else{
    return ["èƒœå¹³","å¹³å¹³","å¹³è´Ÿ"][Math.floor(Math.random()*3)];
  }
}

// ã€ä¼˜åŒ–ã€‘äºšç›˜è®¡ç®—è´´åˆçœŸå®ç›˜å£
function getHandicap(ph,pa){
  let diff = ph-pa;
  if(diff>20) return "-2.0";
  if(diff>15) return "-1.5";
  if(diff>10) return "-1.0";
  if(diff>5) return "-0.5";
  if(diff<-20) return "+2.0";
  if(diff<-15) return "+1.5";
  if(diff<-10) return "+1.0";
  if(diff<-5) return "+0.5";
  return "0";
}

// ã€ä¼˜åŒ–ã€‘å¤§å°çƒåŸºäºè”èµ›çœŸå®åœºå‡è¿›çƒ
function getTotal(attH, attA, leagueAvg){
  let avg = (attH + attA)/2;
  let baseLine = leagueAvg;
  if(avg < 75) return `${baseLine-0.5}/${baseLine}`;
  if(avg < 82) return `${baseLine}`;
  if(avg < 88) return `${baseLine}/${baseLine+0.5}`;
  return `${baseLine+0.5}`;
}

// ã€æ–°å¢ã€‘å¯¹æ¥APIæ‹‰å–çœŸå®èµ›æœ
async function loadRealScores(league, season) {
  try {
    const comp = COMP_MAP[league] || "PL";
    const seasonYear = season.split("-")[0];
    const res = await fetch(`https://api.football-data.org/v4/competitions/${comp}/matches?status=FINISHED&season=${seasonYear}`, {
      headers: { "X-Auth-Token": API_KEY }
    });
    const data = await res.json();
    if (data.matches && data.matches.length > 0) {
      return data.matches.map(m => `${m.score.fullTime.homeTeam}-${m.score.fullTime.awayTeam}`).filter(score => !score.includes("null"));
    }
  } catch (e) {
    console.log("APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°èµ›æœåº“", e);
  }
  return leagueScores[league]?.[season] || leagueScores.default;
}

// ã€æ ¸å¿ƒä¼˜åŒ–ã€‘ç²¾å‡†æ¯”åˆ†æ¨èï¼ŒåŸºäºæ³Šæ¾åˆ†å¸ƒ+çœŸå®èµ›æœåŠ æƒ
async function getPreciseScore(hTeam, aTeam, leagueData) {
  const baseScores = await loadRealScores(league, season);
  const powerDiff = hTeam.power - aTeam.power;
  const formBonus = (hTeam.recentForm - aTeam.recentForm) * 2;
  const homeAdvantage = hTeam.home * leagueData.homeAdv;
  
  // æ³Šæ¾åˆ†å¸ƒè®¡ç®—é¢„æœŸè¿›çƒ
  const homeLambda = (hTeam.attack / aTeam.defend) * leagueData.avgGoal / 2 * homeAdvantage + formBonus/10;
  const awayLambda = (aTeam.attack / hTeam.defend) * leagueData.avgGoal / 2 * aTeam.away - formBonus/10;

  // è®¡ç®—å„æ¯”åˆ†æ¦‚ç‡
  let scoreProb = [];
  for (let h = 0; h <= 5; h++) {
    for (let a = 0; a <= 5; a++) {
      const prob = poissonProbability(homeLambda, h) * poissonProbability(awayLambda, a);
      scoreProb.push({ score: `${h}-${a}`, prob: prob });
    }
  }

  // ç»“åˆçœŸå®èµ›æœåŠ æƒ
  let weightedScores = scoreProb.map(item => {
    let weight = item.prob;
    if (baseScores.includes(item.score)) weight *= 1.8;
    if (powerDiff > 15 && item.score.split("-")[0] - item.score.split("-")[1] >= 2) weight *= 1.5;
    if (powerDiff < -15 && item.score.split("-")[1] - item.score.split("-")[0] >= 2) weight *= 1.5;
    return { ...item, weight: weight };
  });

  // æŒ‰æƒé‡æ’åºï¼Œå»é‡ï¼Œè¿”å›å‰3ä¸ª
  weightedScores.sort((a, b) => b.weight - a.weight);
  let result = [];
  let used = new Set();
  for (let item of weightedScores) {
    if (!used.has(item.score) && result.length < 3) {
      result.push(item.score);
      used.add(item.score);
    }
  }
  return result.length ? result : ["1-0","1-1","0-1"];
}

// ç”Ÿæˆè¿‘æœŸæˆ˜ç»©
function genRecord(power, recentForm){
  let arr = [];
  let total = 6;
  let winRate = 0.4 + (power - 75)/100 + recentForm*0.05;
  for(let i=0;i<total;i++){
    let r = Math.random();
    if(r < winRate) arr.push('<span class="win">èƒœ</span>');
    else if(r < winRate + 0.25) arr.push('<span class="draw">å¹³</span>');
    else arr.push('<span class="lose">è´Ÿ</span>');
  }
  return arr.join('');
}

// ç”Ÿæˆå†å²äº¤é”‹
function genVs(hPower, aPower){
  let w = Math.floor(Math.random()*3)+1 + Math.max(0, Math.floor((hPower - aPower)/10));
  let d = Math.floor(Math.random()*2)+1;
  let l = Math.floor(Math.random()*3)+1 + Math.max(0, Math.floor((aPower - hPower)/10));
  return `è¿‘6æ¬¡äº¤é”‹ï¼šä¸»é˜Ÿèƒœ${w} å¹³${d} è´Ÿ${l}`;
}

// ç”Ÿæˆçƒ­åº¦å€¼
function genHot(ph,pa){
  let total = ph+pa;
  let h = Math.round(ph/total*100);
  let a = 100-h;
  return [h,a];
}

// ã€æ ¸å¿ƒä¼˜åŒ–ã€‘AIé¢„æµ‹ä¸»å‡½æ•°ï¼Œå…¨æµç¨‹å¢å¼º
async function startAI(){
  let hn=getHomeName();let an=getAwayName();
  if(!hn||!an||hn==an){
    showToast("è¯·é€‰æ‹©æœ‰æ•ˆçƒé˜Ÿ");
    return;
  }
  showLoading();
  try {
    let h=getTeam(hn);let a=getTeam(an);let lg=leagueAttr[league];
    let ph=h.power*h.home + h.recentForm*2;
    let pa=a.power*a.away + a.recentForm*2;

    // å®åŠ›æ¡æ›´æ–°
    document.getElementById("powerHome").style.width=Math.min(100,ph)+"%";
    document.getElementById("powerAway").style.width=Math.min(100,pa)+"%";
    document.getElementById("matchInfo").innerText=`${hn} vs ${an}`;
    document.getElementById("homeStat").innerText=`ä¸»åœºèƒœç‡ï¼š${h.homeWin}%`;
    document.getElementById("awayStat").innerText=`å®¢åœºèƒœç‡ï¼š${a.awayWin}%`;

    // èƒœå¹³è´Ÿæ¦‚ç‡è®¡ç®—ï¼ŒåŠ å…¥è”èµ›å¹³å±€ç‡åŠ æƒ
    let base = 36;
    let win = base + (ph-pa)*1.1 + lg.homeWin/10 + Math.random()*4 -2;
    let draw = (33 * lg.drawRate - Math.abs(ph-pa)/2.2) + Math.random()*3 -1.5;
    let lose = 100 - win - draw;

    win = Math.round(Math.max(15,Math.min(75,win)));
    draw = Math.round(Math.max(12,Math.min(40,draw)));
    lose = Math.round(100-win-draw);
    if(lose<10) lose=10;

    let total = win+draw+lose;
    win = Math.round(win/total*100);
    draw = Math.round(draw/total*100);
    lose = 100-win-draw;

    document.getElementById("win").innerText=win+"%";
    document.getElementById("draw").innerText=draw+"%";
    document.getElementById("lose").innerText=lose+"%";

    // ç›˜å£æ•°æ®æ›´æ–°
    document.getElementById("half").innerText=getHalf(win,draw,lose);
    document.getElementById("handicap").innerText=getHandicap(ph,pa);
    document.getElementById("total").innerText=getTotal(h.attack,a.attack,lg.avgGoal);
    document.getElementById("recent").innerText=h.recentForm>1?"ä¸»é˜Ÿè¿‘æœŸçŠ¶æ€ç«çƒ­ï¼Œè¿èƒœåŠ æˆ":a.recentForm>1?"å®¢é˜Ÿè¿‘æœŸçŠ¶æ€ç«çƒ­ï¼Œè¿èƒœåŠ æˆ":"ä¸¤é˜Ÿè¿‘æœŸçŠ¶æ€ç¨³å®š";

    // ç²¾å‡†æ¯”åˆ†æ¨è
    let mainScores=await getPreciseScore(h, a, lg);
    document.getElementById("aiScore").innerText=mainScores[0].replace("-"," : ");
    document.getElementById("s1").innerText=mainScores[0];
    document.getElementById("s2").innerText=mainScores[1];
    document.getElementById("s3").innerText=mainScores[2];

    // æˆ˜ç»©ä¸äº¤é”‹æ•°æ®
    document.getElementById("homeRecord").innerHTML = genRecord(h.power, h.recentForm);
    document.getElementById("awayRecord").innerHTML = genRecord(a.power, a.recentForm);
    document.getElementById("vsRecord").innerText = genVs(h.power, a.power);
    let [hh,ah] = genHot(ph,pa);
    document.getElementById("hotHome").innerText = hh+"%";
    document.getElementById("hotAway").innerText = ah+"%";

    // AIä¿¡å¿ƒæŒ‡æ•°è®¡ç®—
    const confidence = Math.min(98, Math.max(60, 75 + Math.abs(ph-pa)/2 + Math.abs(h.recentForm - a.recentForm)*3));
    document.getElementById("aiConfidence").innerText = `AIä¿¡å¿ƒæŒ‡æ•°ï¼š${confidence}%`;
  } catch (e) {
    showToast("é¢„æµ‹è®¡ç®—å¤±è´¥ï¼Œè¯·é‡è¯•");
    console.error(e);
  } finally {
    hideLoading();
  }
}

// ã€æ–°å¢ã€‘å¯¹æ¥å®æ—¶èµ›äº‹API
async function startLiveScore() {
  clearInterval(liveScoreTimer);
  liveScoreTimer = setInterval(async () => {
    try {
      const res = await fetch("https://api.football-data.org/v4/matches?status=LIVE", {
        headers: { "X-Auth-Token": API_KEY }
      });
      const data = await res.json();
      const match = data.matches.find(m => 
        m.homeTeam.name.includes(getHomeName()) && m.awayTeam.name.includes(getAwayName())
      );
      if (match) {
        document.getElementById("simScore").innerText = 
          `${match.score.fullTime.homeTeam} - ${match.score.fullTime.awayTeam}`;
        document.getElementById("simTime").innerText = `${match.minute}â€²`;
        document.getElementById("simEvent").innerText = 
          match.goals.length ? `${match.goals[match.goals.length-1].minute}â€² ${match.goals[match.goals.length-1].team.name} è¿›çƒ` : "å®æ—¶ç›´æ’­ä¸­";
      }
    } catch (e) { /* å¤±è´¥ä½¿ç”¨æœ¬åœ°æ¨¡æ‹Ÿ */ }
  }, 30000);
}

// ã€æ ¸å¿ƒä¼˜åŒ–ã€‘æ¨¡æ‹Ÿæ¯”èµ›å…¨é¢å†™å®ï¼Œæ–°å¢çœŸå®äº‹ä»¶
function startSim() {
  let hn = getHomeName(); let an = getAwayName();
  if (!hn || !an || hn == an) { showToast("è¯·é€‰æ‹©æœ‰æ•ˆçƒé˜Ÿ"); return; }
  clearInterval(simTimer);
  clearInterval(liveScoreTimer);
  let h = getTeam(hn); let a = getTeam(an);
  let min = 0, hg = 0, ag = 0;
  let hShot = 0, aShot = 0, hCorner = 0, aCorner = 0;
  let hBall = 50 + (h.power - a.power)/5;
  hBall = Math.min(70, Math.max(30, hBall));
  let aBall = 100 - hBall;

  // åˆå§‹åŒ–æ¨¡æ‹Ÿç•Œé¢
  document.getElementById("simTime").innerText = "00:00";
  document.getElementById("simScore").innerText = "0 - 0";
  document.getElementById("simEvent").innerText = "æ¯”èµ›å¼€å§‹ï¼Œä¸»é˜Ÿç‡å…ˆå¼€çƒ";
  document.getElementById("ballHome").innerText = hBall+"%";
  document.getElementById("ballAway").innerText = aBall+"%";
  document.getElementById("shotHome").innerText = hShot;
  document.getElementById("shotAway").innerText = aShot;
  document.getElementById("cornerHome").innerText = hCorner;
  document.getElementById("cornerAway").innerText = aCorner;

  // å¯åŠ¨å®æ—¶èµ›äº‹ç›‘å¬
  startLiveScore();

  // æ¨¡æ‹Ÿä¸»å¾ªç¯
  simTimer = setInterval(() => {
    min++;
    document.getElementById("simTime").innerText = min < 10 ? "0" + min + ":00" : min + ":00";

    // ã€æ ¸å¿ƒã€‘è¿›çƒæ—¶é—´æ¦‚ç‡è´´åˆç°å®è¶³çƒ
    let timeMultiplier = 1;
    if (min >= 20 && min <= 35) timeMultiplier = 1.4; // ä¸ŠåŠåœºæœ«æ®µé«˜å³°
    else if (min >= 56 && min <= 75) timeMultiplier = 1.5; // ä¸‹åŠåœºä¸­æ®µé«˜å³°
    else if (min >= 85) timeMultiplier = 1.8; // è¡¥æ—¶ç»æ€é«˜å³°
    else if (min <= 5) timeMultiplier = 0.3; // å¼€åœºä½è¿›çƒç‡

    // è¿›çƒæ¦‚ç‡è®¡ç®—
    let goalH = 0.012 * (h.attack * h.home - a.defend) * timeMultiplier / 100;
    let goalA = 0.012 * (a.attack * a.away - h.defend) * timeMultiplier / 100;
    goalH = Math.max(0.002, goalH);
    goalA = Math.max(0.002, goalA);

    // äº‹ä»¶ç”Ÿæˆ
    let event = "";
    let rand = Math.random();

    // å°„é—¨äº‹ä»¶
    if (rand < 0.08) {
      if (Math.random() < hBall/100) {
        hShot++;
        document.getElementById("shotHome").innerText = hShot;
        event = `${min}â€² ${hn} å®Œæˆä¸€è„šå°„é—¨`;
      } else {
        aShot++;
        document.getElementById("shotAway").innerText = aShot;
        event = `${min}â€² ${an} å®Œæˆä¸€è„šå°„é—¨`;
      }
    }
    // è§’çƒäº‹ä»¶
    else if (rand < 0.15) {
      if (Math.random() < hBall/100) {
        hCorner++;
        document.getElementById("cornerHome").innerText = hCorner;
        event = `${min}â€² ${hn} è·å¾—è§’çƒ`;
      } else {
        aCorner++;
        document.getElementById("cornerAway").innerText = aCorner;
        event = `${min}â€² ${an} è·å¾—è§’çƒ`;
      }
    }
    // é»„ç‰Œäº‹ä»¶
    else if (rand < 0.18) {
      event = `${min}â€² ${Math.random()<0.5?hn:an} çƒå‘˜åƒåˆ°é»„ç‰Œ`;
    }
    // è¿›çƒäº‹ä»¶
    else if (Math.random() < goalH) {
      hg++;
      event = `GOALï¼${min}â€² ${hn} è¿›çƒï¼`;
      if (Math.random() < 0.1) event += "ï¼ˆç‚¹çƒï¼‰";
      if (Math.random() < 0.05) event += "ï¼ˆä¹Œé¾™çƒï¼‰";
      document.getElementById("simScore").innerText = `${hg} - ${ag}`;
    }
    else if (Math.random() < goalA) {
      ag++;
      event = `GOALï¼${min}â€² ${an} è¿›çƒï¼`;
      if (Math.random() < 0.1) event += "ï¼ˆç‚¹çƒï¼‰";
      if (Math.random() < 0.05) event += "ï¼ˆä¹Œé¾™çƒï¼‰";
      document.getElementById("simScore").innerText = `${hg} - ${ag}`;
    }
    // æ¢äººäº‹ä»¶
    else if (min >= 45 && min <= 90 && rand < 0.19) {
      event = `${min}â€² ${Math.random()<0.5?hn:an} åšå‡ºæ¢äººè°ƒæ•´`;
    }

    // åŠåœºäº‹ä»¶
    if (min === 45) {
      event = "ä¸ŠåŠåœºç»“æŸï¼Œä¸­åœºä¼‘æ¯";
    }
    if (min === 46) {
      event = "ä¸‹åŠåœºæ¯”èµ›å¼€å§‹";
    }

    // æ›´æ–°äº‹ä»¶
    if (event) {
      document.getElementById("simEvent").innerText = event;
    }

    // å…¨åœºç»“æŸ
    if (min >= 90) {
      clearInterval(simTimer);
      clearInterval(liveScoreTimer);
      document.getElementById("simEvent").innerText = `å…¨åœºæ¯”èµ›ç»“æŸï¼æœ€ç»ˆæ¯”åˆ† ${hg}-${ag}`;
      min = 0; hg = 0; ag = 0;
    }
  }, 500);
}

// æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢å®Œå…¨ä¿ç•™
const themeToggle = document.getElementById('themeToggle');
const body = document.body;

// åˆå§‹åŒ–ä¸»é¢˜
if (localStorage.getItem('theme') === 'light') {
  body.classList.add('light');
  themeToggle.textContent = 'â˜€ï¸ åˆ‡æ¢æ·±è‰²æ¨¡å¼';
}

themeToggle.addEventListener('click', () => {
  if (body.classList.contains('light')) {
    body.classList.remove('light');
    themeToggle.textContent = 'ğŸŒ™ åˆ‡æ¢æµ…è‰²æ¨¡å¼';
    localStorage.setItem('theme', 'dark');
  } else {
    body.classList.add('light');
    themeToggle.textContent = 'â˜€ï¸ åˆ‡æ¢æ·±è‰²æ¨¡å¼';
    localStorage.setItem('theme', 'light');
  }
});

// é¡µé¢åˆå§‹åŒ–
document.ontouchmove = null;
window.ontouchmove = null;
loadTeam();
</script>
</body>
</html>
